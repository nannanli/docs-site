<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Error reporting UI | Zowe Docs</title>
    <meta name="description" content="Home of Zowe documentation">
    
    
    <link rel="preload" href="/docs-site/assets/css/0.styles.a1f46189.css" as="style"><link rel="preload" href="/docs-site/assets/js/app.cf6df552.js" as="script"><link rel="preload" href="/docs-site/assets/js/37.1a999344.js" as="script"><link rel="prefetch" href="/docs-site/assets/js/23.1c9d7ca1.js"><link rel="prefetch" href="/docs-site/assets/js/2.3897de4a.js"><link rel="prefetch" href="/docs-site/assets/js/3.c562cf86.js"><link rel="prefetch" href="/docs-site/assets/js/4.f006bf79.js"><link rel="prefetch" href="/docs-site/assets/js/5.f98cef87.js"><link rel="prefetch" href="/docs-site/assets/js/6.61116b8a.js"><link rel="prefetch" href="/docs-site/assets/js/7.4285332d.js"><link rel="prefetch" href="/docs-site/assets/js/8.55c4359d.js"><link rel="prefetch" href="/docs-site/assets/js/9.e71e90bd.js"><link rel="prefetch" href="/docs-site/assets/js/10.bab2ad2f.js"><link rel="prefetch" href="/docs-site/assets/js/11.b1f93d67.js"><link rel="prefetch" href="/docs-site/assets/js/12.6f28bd43.js"><link rel="prefetch" href="/docs-site/assets/js/13.c900b198.js"><link rel="prefetch" href="/docs-site/assets/js/14.fa8f443d.js"><link rel="prefetch" href="/docs-site/assets/js/15.3e3e99dd.js"><link rel="prefetch" href="/docs-site/assets/js/16.fe0025f1.js"><link rel="prefetch" href="/docs-site/assets/js/17.6a30f9b7.js"><link rel="prefetch" href="/docs-site/assets/js/18.6b0c9a46.js"><link rel="prefetch" href="/docs-site/assets/js/19.38b26a6d.js"><link rel="prefetch" href="/docs-site/assets/js/20.b88dd7b4.js"><link rel="prefetch" href="/docs-site/assets/js/21.6fcbdd49.js"><link rel="prefetch" href="/docs-site/assets/js/22.0098adf9.js"><link rel="prefetch" href="/docs-site/assets/js/24.5370e58e.js"><link rel="prefetch" href="/docs-site/assets/js/25.e8ef9bb5.js"><link rel="prefetch" href="/docs-site/assets/js/26.8b2271ee.js"><link rel="prefetch" href="/docs-site/assets/js/27.bc4a9d43.js"><link rel="prefetch" href="/docs-site/assets/js/28.2c516182.js"><link rel="prefetch" href="/docs-site/assets/js/29.0cc7c3d6.js"><link rel="prefetch" href="/docs-site/assets/js/30.1c22a013.js"><link rel="prefetch" href="/docs-site/assets/js/31.489cc3df.js"><link rel="prefetch" href="/docs-site/assets/js/32.13722852.js"><link rel="prefetch" href="/docs-site/assets/js/33.248fafa0.js"><link rel="prefetch" href="/docs-site/assets/js/34.15842e79.js"><link rel="prefetch" href="/docs-site/assets/js/35.58295107.js"><link rel="prefetch" href="/docs-site/assets/js/36.ffd949ce.js"><link rel="prefetch" href="/docs-site/assets/js/38.61e8f9f4.js"><link rel="prefetch" href="/docs-site/assets/js/39.421296b4.js"><link rel="prefetch" href="/docs-site/assets/js/40.780ed3a3.js"><link rel="prefetch" href="/docs-site/assets/js/41.55002956.js"><link rel="prefetch" href="/docs-site/assets/js/42.e2595f1e.js"><link rel="prefetch" href="/docs-site/assets/js/43.4f4d8a55.js"><link rel="prefetch" href="/docs-site/assets/js/44.d52478b7.js"><link rel="prefetch" href="/docs-site/assets/js/45.66a266b8.js"><link rel="prefetch" href="/docs-site/assets/js/46.5959b117.js"><link rel="prefetch" href="/docs-site/assets/js/47.6fb677c3.js"><link rel="prefetch" href="/docs-site/assets/js/48.80c72c15.js"><link rel="prefetch" href="/docs-site/assets/js/49.93472600.js"><link rel="prefetch" href="/docs-site/assets/js/50.77993040.js"><link rel="prefetch" href="/docs-site/assets/js/51.0445ac57.js"><link rel="prefetch" href="/docs-site/assets/js/52.9bcfa0fd.js"><link rel="prefetch" href="/docs-site/assets/js/53.6399e89c.js"><link rel="prefetch" href="/docs-site/assets/js/54.93393fa6.js"><link rel="prefetch" href="/docs-site/assets/js/55.1bcd7392.js">
    <link rel="stylesheet" href="/docs-site/assets/css/0.styles.a1f46189.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs-site/" class="home-link router-link-active"><!----> <span class="site-name">Zowe Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs-site/guides/intro.html" class="nav-link">Developer Tutorials</a></div><div class="nav-item"><a href="/docs-site/samples/intro.html" class="nav-link">Samples</a></div><div class="nav-item"><a href="/docs-site/user-guide/aboutthisdoc.html" class="nav-link">User Guide</a></div> <a href="https://github.com/zowe/docs-site" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs-site/guides/intro.html" class="nav-link">Developer Tutorials</a></div><div class="nav-item"><a href="/docs-site/samples/intro.html" class="nav-link">Samples</a></div><div class="nav-item"><a href="/docs-site/user-guide/aboutthisdoc.html" class="nav-link">User Guide</a></div> <a href="https://github.com/zowe/docs-site" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>About this documentation</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Zowe Overview</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Installing Zowe</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Using Zowe</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Extending zLUX</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/docs-site/user-guide/mvd-extendingzlux.html" class="sidebar-link">Extending zLUX</a></li><li><a href="/docs-site/user-guide/mvd-plugincreateappplugin.html" class="sidebar-link">Creating zLUX application plug-ins</a></li><li><a href="/docs-site/user-guide/mvd-zluxplugindefandstruct.html" class="sidebar-link">zLUX plug-ins definition and structure</a></li><li><a href="/docs-site/user-guide/mvd-zluxdataservices.html" class="sidebar-link">zLUX dataservices</a></li><li><a href="/docs-site/user-guide/mvd-desktopandwindowmgt.html" class="sidebar-link">Virtual desktop and window management</a></li><li><a href="/docs-site/user-guide/mvd-configdataservice.html" class="sidebar-link">Configuration Dataservice</a></li><li><a href="/docs-site/user-guide/mvd-uribroker.html" class="sidebar-link">URI Broker</a></li><li><a href="/docs-site/user-guide/mvd-apptoappcommunication.html" class="sidebar-link">Application-to-application communication</a></li><li><a href="/docs-site/user-guide/mvd-errorreportingui.html" class="active sidebar-link">Error reporting UI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs-site/user-guide/mvd-logutility.html" class="sidebar-link">Logging utility</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Extending Zowe CLI</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Edition Notice</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Notices</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="error-reporting-ui"><a href="#error-reporting-ui" aria-hidden="true" class="header-anchor">#</a> Error reporting UI</h1> <p>The <code>zLUX Widgets</code> repository contains shared widget-like components of the mainframe virtual desktop, including Button, Checkbox, Paginator, various pop-ups, and others. To maintain consistency in desktop styling across all applications, use, reuse, and customize existing widgets to suit the purpose of the application's function and look.</p> <p>Ideally, a program should have little to no logic errors. Once in a while a few slip through, but more commonly an error occurs from misconfigured user settings. A user might request an action or command that requires certain prerequisites, for example: a proper ZSS-Server configuration. If the program or method fails, the program should notify the user through the UI about the error and how to fix it. For the purposes of this discussion, we will use the zLUX Workflow application plug-in in the <code>zlux-workflow</code> repository.</p> <h3 id="zluxpopupmanagerservice"><a href="#zluxpopupmanagerservice" aria-hidden="true" class="header-anchor">#</a> ZluxPopupManagerService</h3> <p>The <code>ZluxPopupManagerService</code> is a standard popup widget that can, through its <code>reportError()</code> method, be used to display errors with attributes that specify the title (or error code), severity, text, whether it should block the user from proceeding, whether it should output to the logger, and other options you want to add to the error dialog. <code>ZluxPopupManagerService</code> uses both <code>ZluxErrorSeverity</code> and <code>ErrorReportStruct</code>.</p> <p><code>export declare class ZluxPopupManagerService {</code></p> <pre><code>eventsSubject: any;
listeners: any;
events: any;
logger: any;
constructor();
setLogger(logger: any): void;
on(name: any, listener: any): void;
broadcast(name: any, ...args: any[]): void;
processButtons(buttons: any[]): any[];
block(): void;
unblock(): void;
getLoggerSeverity(severity: ZluxErrorSeverity): any;
reportError(severity: ZluxErrorSeverity, title: string, text: string, options?: any): Rx.Observable&lt;any&gt;;
</code></pre> <p><code>}</code></p> <h3 id="zluxerrorseverity"><a href="#zluxerrorseverity" aria-hidden="true" class="header-anchor">#</a> ZluxErrorSeverity</h3> <p><code>ZluxErrorSeverity</code> classifies the type of report. Under the popup-manager, there are the following types: error, warning, and information. Each type has its own visual style and the desired error or pop-up should be classified accordingly to accurately indicate the type of issue to the user.</p> <p><code>export declare enum ZluxErrorSeverity {</code></p> <pre><code>ERROR = &quot;error&quot;,
WARNING = &quot;warning&quot;,
INFO = &quot;info&quot;,
</code></pre> <p><code>}</code></p> <h3 id="errorreportstruct"><a href="#errorreportstruct" aria-hidden="true" class="header-anchor">#</a> ErrorReportStruct</h3> <p><code>ErrorReportStruct</code> contains the main interface that brings the specified parameters of <code>reportError()</code> together.</p> <p><code>export interface ErrorReportStruct {</code></p> <pre><code>severity: string;
modal: boolean;
text: string;
title: string;
buttons: string[];
</code></pre> <p><code>}</code></p> <h1 id="implementation"><a href="#implementation" aria-hidden="true" class="header-anchor">#</a> Implementation</h1> <p>Import <code>ZluxPopupManagerService</code> and <code>ZluxErrorSeverity</code> from widgets. If you are using additional services with your error prompt, import those too (for example, <code>LoggerService</code> to print to the logger or <code>GlobalVeilService</code> to create a visible semi-transparent gray veil over the program and pause background tasks). Here, widgets is imported from <code>node_modules\@zlux\</code> so you must ensure zLUX widgets is used in your <code>package-lock.json</code> or <code>package.json</code> and you have run <code>npm install</code>.</p> <p><code>import { ZluxPopupManagerService, ZluxErrorSeverity } from '@zlux/widgets';</code></p> <h3 id="declaration"><a href="#declaration" aria-hidden="true" class="header-anchor">#</a> Declaration</h3> <p>Create a member variable within the constructor of the class you want to use it for. For example, in the Workflow application plug-in under <code>\zlux-workflow\src\app\app\zosmf-server-config.component.ts</code> is a <code>ZosmfServerConfigComponent</code> class with the pop-up manager service variable. If you want to automatically report the error to the console, you must set a logger.</p> <p><code>export class ZosmfServerConfigComponent {</code></p> <pre><code>constructor(
private popupManager: ZluxPopupManagerService, )
{  popupManager.setLogger(logger); } //Optional
</code></pre> <p><code>}</code></p> <h3 id="usage"><a href="#usage" aria-hidden="true" class="header-anchor">#</a> Usage</h3> <p>Now that you have declared your variable within the scope of your program's class, you are ready to use the method. The following example describes an instance of the <code>reload()</code> method in Workflow that catches an error when the program attempts to retrieve a configuration from a <code>configService</code> and set it to the program's <code>this.config</code>. This method fails when the user has a faulty zss-Server configuration and the error is caught and then sent to the class' <code>popupManager</code> variable from the constructor above.</p> <p><code>reload(): void {</code></p> <pre><code>this.globalVeilService.showVeil();
this.configService
  .getConfig()
  .then(config =&gt; (this.config = config))
  .then(_ =&gt; setTimeout(() =&gt; this.test(), 0))
  .then(_ =&gt; this.globalVeilService.hideVeil())
  .catch(err =&gt; {
    this.globalVeilService.hideVeil()
    let errorTitle: string = &quot;Error&quot;;
    let errorMessage: string = &quot;Server configuration not found. Please check your zss server.&quot;;
    const options = {
      blocking: true
    };
      this.popupManager.reportError(ZluxErrorSeverity.ERROR, errorTitle.toString()+&quot;: &quot;+err.status.toString(), errorMessage+&quot;\n&quot;+err.toString(), options);
    });
</code></pre> <p><code>}</code></p> <p>Here, the <code>errorMessage</code> clearly describes the error with a small degree of ambiguity as to account for all types of errors that might occur from that method. The specifics of the error are then generated dynamically and are printed with the <code>err.toString()</code>, which contains the more specific information that is used to pinpoint the problem. The <code>this.popupManager.report()</code> method triggers the error prompt to display. The error severity is set with <code>ZluxErrorSeverity.ERROR</code> and the <code>err.status.toString()</code> describes the status of the error (often classified by a code for example: <code>404</code>). The optional parameters in <code>options</code> specify that this error will block the user from interacting with the application plug-in until the error is closed or it until goes away on its own. <code>globalVeilService</code> is optional and is used to create a gray veil on the outside of the program when the error is caused. You must import <code>globalVeilService</code> separately (see <code>zlux-workflow</code> for more information).</p> <h3 id="html"><a href="#html" aria-hidden="true" class="header-anchor">#</a> HTML</h3> <p>The final step is to have the recently created error dialog appear in the application plug-in. If you do <code>this.popupManager.report()</code> without adding the component to your template, the error will not be displayed. Navigate to your component's <code>.html</code> file. On the Workflow application plug-in, this file will be in <code>\zlux-workflow\src\app\app\zosmf-server-config.component.html</code> and the only item left is to add the popup manager component alongside your other classes.</p> <p><code>&lt;zlux-popup-manager&gt;&lt;/zlux-popup-manager&gt;</code></p> <p>So now when the error is called, the new UI element should resemble the following:</p> <p>The order in which you place the pop-up manager determines how the error dialog will overlap in your UI. If you want the error dialog to overlap other UI elements, place it at the end of the <code>.html</code> file. You can also create custom styling through a CSS template, and add it within the scope of your application plug-in.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/zowe/docs-site/edit/master/docs/user-guide/mvd-errorreportingui.md" target="_blank" rel="noopener noreferrer">Propose content change in GitHub.</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/9/2018, 7:34:24 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs-site/user-guide/mvd-apptoappcommunication.html" class="prev">
          Application-to-application communication
        </a></span> <span class="next"><a href="/docs-site/user-guide/mvd-logutility.html">
          Logging utility
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs-site/assets/js/37.1a999344.js" defer></script><script src="/docs-site/assets/js/app.cf6df552.js" defer></script>
  </body>
</html>
